"use strict";var e=require("@babel/runtime/helpers/asyncToGenerator"),t=require("@babel/runtime/helpers/classCallCheck"),i=require("@babel/runtime/helpers/createClass"),n=require("@babel/runtime/helpers/assertThisInitialized"),s=require("@babel/runtime/helpers/inherits"),r=require("@babel/runtime/helpers/possibleConstructorReturn"),a=require("@babel/runtime/helpers/getPrototypeOf"),o=require("@babel/runtime/helpers/defineProperty"),c=require("@babel/runtime/regenerator"),l=require("video.js"),d=require("./index-b975a253.js");function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=a(e);if(t){var s=a(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return r(this,i)}}require("video.js/dist/video-js.min.css"),require("axios"),require("@babel/runtime/helpers/toConsumableArray"),require("./library-1d9e03ba.js");var p,v=l.getComponent("Component"),h=function(e){s(a,v);var r=u(a);function a(e){var i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t(this,a),i=r.call(this,e,s),o(n(i),"seriesData",[]),i.seriesData=s.seriesData,p=s.playerId;var c=i.el();return m(c,i.seriesData),i}return i(a,[{key:"createEl",value:function(){var e=document.createElement("div");return e.classList.add("vjs-season-list"),e}}]),a}();function f(){return(f=e(c.mark((function e(t,i,n,s){var r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=sessionStorage.getItem("token"),d.VLPlayerCore().pause(p),d.showLoader(p),d.VLPlayerCore().load(p,i,r).then((function(e){d.VLPlayerCore().play(p)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,t){e.innerHTML='<div class="hover-div"></div>\n    '.concat(d.EpisodesSvg(),'\n  <div  class="player-season-list-container on-click-toggle">\n  <div id="season-list" class="season-list">\n    <div class="season-list-head">seasons</div>\n    <div class="season-name-container">\n    ').concat(function(e){return e.map((function(e,t){return'<div\n                    class="season-title-sdk"\n                    key='.concat("title-".concat(e.title),'\n                >  <div class="season-container">\n                    ',e.title,"\n                    </div>\n                </div>\n    ")})).join("")}(t),'\n    </div>\n    </div>\n    <div id="episode-list" class="episode-list hide-container"><div id="episodes-back-btn" class="episodes-back-btn" >\n    <svg class=\'icon icon-backward\' height="22px" width="22px" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M0.383092 19.5818C-0.0882695 19.0669 -0.124672 18.2566 0.273985 17.6961L0.382714 17.5615L7.30134 9.99714L0.383092 2.43893C-0.0882694 1.92406 -0.124672 1.11374 0.273985 0.553232L0.382714 0.418625C0.853882 -0.0964584 1.59542 -0.136236 2.10835 0.299398L2.23153 0.418213L11 9.99608L2.23191 19.5814C1.72148 20.1394 0.893733 20.1396 0.383092 19.5818Z" fill="white"/>\n    </svg>\n    <span>Episodes<span></div> <div id="episode-container" class="episode-container"> </div></div>\n    </div>')}exports.customSeasonList=m,exports.handleSeasonChange=function(e,t,i,n){var s=document.getElementById("season-list"),r=document.getElementById("episode-list"),a=document.getElementById("episode-container");e.id;var o=e.episodes.map((function(e,t){return'\n  <div id="episode-wrapper" class="episode-wrapper">\n  <div class="episode-title" id="episode-title">\n      <div class="details-wrapper">\n          <div id="title-wrapper" class="title-wrapper">'.concat(t+1," ").concat(e.title,' </div>\n          <div class="progress-bar-div">\n          <div id="progress-div" class="progress-div"></div>\n          </div>\n      </div>\n      <div class="meta-details">\n          <div class="episode-image lazy" style="width:124px; height: 70px;">\n              <img src=').concat(e.gist.videoImageUrl,' alt="').concat(e.title,'\'s cover"></img>\n          </div>\n          <div class="description-wrapper">').concat(e.gist.description,"</div>\n      </div>\n  </div>\n  </div>")})).join("");a.innerHTML=o,function(e){d.getSeriesWatchHistory(e).then((function(e){var t=e.data,i=document.querySelectorAll("#progress-div");i&&t.map((function(e,t){e&&e.watchedPercentage&&i[t]&&(i[t].style.width=e.watchedPercentage+"px")}))}))}(n),s.classList.toggle("hide-container"),r.classList.toggle("hide-container");var c=document.querySelectorAll(".details-wrapper"),l=document.querySelectorAll("#episode-title"),u=document.querySelectorAll(".meta-details"),p=document.querySelector("#episodes-back-btn"),v=e.id,h=e.episodes;p.addEventListener("click",(function(){return function(e,t){e.classList.remove("hide-container"),t.classList.add("hide-container")}(s,r)}));for(var m=function(t){c[t].addEventListener("click",(function(){return function(e,t,i){var n=t.querySelector(".meta-details");t.classList.toggle("episode-active"),n.classList.toggle("metadetails-active"),i.forEach((function(t,n){n!==e&&(i[n].classList.remove("episode-active"),i[n].querySelector(".meta-details").classList.remove("metadetails-active"))}))}(t,l[t],l)})),u[t].addEventListener("click",(function(){return function(e,t,i,n){return f.apply(this,arguments)}(t,h[t].id,i,l)})),e.episodes[t].id==v&&l[t].classList.add("highlight-active-eps")},g=0;g<c.length;g++)m(g)},exports.seriesModule=h;
