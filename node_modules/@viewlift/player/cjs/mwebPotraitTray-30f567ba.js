"use strict";var e=require("@babel/runtime/helpers/classCallCheck"),t=require("@babel/runtime/helpers/createClass"),r=require("@babel/runtime/helpers/inherits"),n=require("@babel/runtime/helpers/possibleConstructorReturn"),o=require("@babel/runtime/helpers/getPrototypeOf"),l=require("video.js"),s=require("./index-b975a253.js");function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,l=o(e);if(t){var s=o(this).constructor;r=Reflect.construct(l,arguments,s)}else r=l.apply(this,arguments);return n(this,r)}}require("video.js/dist/video-js.min.css"),require("@babel/runtime/helpers/defineProperty"),require("axios"),require("@babel/runtime/helpers/asyncToGenerator"),require("@babel/runtime/regenerator"),require("@babel/runtime/helpers/toConsumableArray"),require("@babel/runtime/helpers/assertThisInitialized"),require("./library-1d9e03ba.js");var i=l.getComponent("Component"),c=function(n){r(c,i);var o=a(c);function c(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e(this,c),(r=o.call(this,t,n)).playerId=n.playerId,r.createUI(null==n?void 0:n.config.streams),r}return t(c,[{key:"createEl",value:function(){return l.dom.createEl("div",{className:"mweb-potrait-parent"})}},{key:"createUI",value:function(e){var t=this,r=this.el(),n=l.dom.createEl("div",{className:"broadcast"});n.innerHTML="Broadcasts";var o=l.dom.createEl("div",{className:"potraittray hideMWebTray"});o.style.width="".concat(window.innerWidth-50,"px");var s=l.dom.createEl("div",{className:"tilecontainer-potrait"});l.dom.appendContent(r,n),l.dom.appendContent(r,o),l.dom.appendContent(o,s),n.addEventListener("click",(function(){null!=o&&o.classList.contains("hideMWebTray")?(o.classList.remove("hideMWebTray"),t.toggleProgressControls(!0),r.style.background="darkgray"):(null==o||o.classList.add("hideMWebTray"),t.toggleProgressControls(!1),r.style.background="gray")})),this.loadCSS();for(var a=0;a<e.length;a++)this.createTile(e[a],a)}},{key:"createTile",value:function(e,t){var r=this,n=this.el(),o=l.dom.createEl("div",{className:"tile-potrait-mweb ".concat(t)});0==t&&(o.style.border="2px solid red"),o.style.backgroundImage="url(".concat(e.img,")");var a=l.dom.$(".tilecontainer-potrait",this.contentEl());l.dom.appendContent(a,o);var i=sessionStorage.getItem("token");return o.addEventListener("click",(function(t){s.showLoader(r.playerId),r.removeSelectedTile();var n=document.getElementsByClassName("".concat(t.srcElement.className))[0];n&&(n.style.border="2px solid red"),s.VLPlayerCore().load(r.playerId,e.id,i).then((function(e){s.VLPlayerCore().play(r.playerId)}))})),n}},{key:"removeSelectedTile",value:function(){for(var e=document.getElementsByClassName("tile-potrait-mweb"),t=0;t<e.length;t++)e[t].style.border=0}},{key:"loadCSS",value:function(){Promise.resolve().then((function(){return require("./mwebPotrait-866cb567.js")})).then((function(e){var t=document.createElement("style");t.className="mweb",t.append("".concat(e.default)),document.head.appendChild(t)}))}},{key:"toggleProgressControls",value:function(e){var t=document.querySelector(".vjs-progress-control.vjs-control"),r=document.querySelector(".vjs-play-control.vjs-control.vjs-button"),n=document.querySelector(".vjs-remaining-time.vjs-time-control.vjs-control"),o=document.querySelector(".vjs-seek-to-live-control.vjs-control");e?(null==t||t.classList.add("hide-controls"),null==r||r.classList.add("hide-controls"),null==n||n.classList.add("hide-controls"),null==o||o.classList.add("hide-controls")):(null!=t&&t.classList.contains("hide-controls")&&(null==t||t.classList.remove("hide-controls")),null!=r&&r.classList.contains("hide-controls")&&(null==r||r.classList.remove("hide-controls")),null!=n&&n.classList.contains("hide-controls")&&(null==n||n.classList.remove("hide-controls")),null!=o&&o.classList.contains("hide-controls")&&(null==o||o.classList.remove("hide-controls")))}}]),c}();exports.default=c;
