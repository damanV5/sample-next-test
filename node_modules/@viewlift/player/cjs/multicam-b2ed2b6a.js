"use strict";var e=require("@babel/runtime/helpers/classCallCheck"),t=require("@babel/runtime/helpers/createClass"),r=require("@babel/runtime/helpers/assertThisInitialized"),i=require("@babel/runtime/helpers/inherits"),l=require("@babel/runtime/helpers/possibleConstructorReturn"),n=require("@babel/runtime/helpers/getPrototypeOf"),o=require("@babel/runtime/helpers/defineProperty"),s=require("video.js"),a=require("./index-b975a253.js");function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=n(e);if(t){var o=n(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return l(this,r)}}require("video.js/dist/video-js.min.css"),require("axios"),require("@babel/runtime/helpers/asyncToGenerator"),require("@babel/runtime/regenerator"),require("@babel/runtime/helpers/toConsumableArray"),require("./library-1d9e03ba.js");var c=s.getComponent("Component"),d=function(l){i(d,c);var n=u(d);function d(t){var i,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e(this,d),i=n.call(this,t,l),o(r(i),"multicamCssPositioning",(function(e,t){var r=window.getComputedStyle(document.getElementById(t),null),i=r.getPropertyValue("height"),l=r.getPropertyValue("width"),n=i.slice(0,-2);l.slice(0,-2)-135<=135?(e.style.bottom="290px",e.style.height="352px"):(e.style.bottom="".concat(n-135,"px"),e.style.height="".concat(n-85,"px"))})),i.playerId=l.playerId,i.streams=null==l?void 0:l.streams,i.config=null==l?void 0:l.config,i.createUI(null==l?void 0:l.streams),i}return t(d,[{key:"createEl",value:function(){return s.dom.createEl("div",{className:"multicamera-parent"})}},{key:"createUI",value:function(e){var t,r,i,l,n,o,s=this,a=this.el();null!=this&&null!==(t=this.config)&&void 0!==t&&t.liveui&&null!=this&&null!==(r=this.config)&&void 0!==r&&r.liveVideo||0==(null==this||null===(i=this.config)||void 0===i?void 0:i.liveui)&&0==(null==this||null===(l=this.config)||void 0===l?void 0:l.liveVideo)?null==a||null===(n=a.classList)||void 0===n||n.add("".concat(this.config.skin)):null==a||null===(o=a.classList)||void 0===o||o.add("default"),this.loadCSS();for(var u=0;u<e.length;u++)this.createTile(e[u],u);this.multicamCssPositioning(a,this.playerId),window.onresize=function(){s.multicamCssPositioning(a,s.playerId)}}},{key:"getOffset",value:function(e){var t=e.getBoundingClientRect();return{left:t.left+window.scrollX,top:t.top+window.scrollY}}},{key:"createTile",value:function(e,t){var r=this,i=this.el(),l=s.dom.createEl("div",{className:"tile ".concat(t)});0==t&&(l.style.border="2px solid red"),l.style.backgroundImage="url(".concat(e.img,")"),s.dom.appendContent(i,l);var n=sessionStorage.getItem("token");return l.addEventListener("click",(function(t){a.showLoader(r.playerId),r.removeSelectedTile();var i=document.getElementsByClassName("".concat(t.srcElement.className))[0];i&&(i.style.border="2px solid red"),a.VLPlayerCore().load(r.playerId,e.id,n).then((function(e){a.VLPlayerCore().play(r.playerId)}))})),i}},{key:"removeSelectedTile",value:function(){for(var e=document.getElementsByClassName("tile"),t=0;t<e.length;t++)e[t].style.border=0}},{key:"loadCSS",value:function(){Promise.resolve().then((function(){return require("./multicam-8160aeec.js")})).then((function(e){var t=document.createElement("style");t.id="multicam",t.append("".concat(e.default)),document.head.appendChild(t)}))}}]),d}();exports.default=d;
