"use strict";require("video.js/dist/video-js.min.css");var e=require("@babel/runtime/helpers/defineProperty"),t=require("axios"),n=require("@babel/runtime/helpers/asyncToGenerator"),o=require("@babel/runtime/regenerator"),i=require("video.js"),r=require("@babel/runtime/helpers/toConsumableArray"),l=require("@babel/runtime/helpers/classCallCheck"),a=require("@babel/runtime/helpers/createClass"),d=require("@babel/runtime/helpers/assertThisInitialized"),s=require("@babel/runtime/helpers/inherits"),u=require("@babel/runtime/helpers/possibleConstructorReturn"),c=require("@babel/runtime/helpers/getPrototypeOf"),v=require("./library-1d9e03ba.js"),m={apiBaseUrl:"https://prod-api.viewlift.com",getVideoDetails:"/entitlement/video/status",getSeriesDetails:"/entitlement/series/status","beacon-msn-dev":"https://analytics-api.develop.monumentalsportsnetwork.com/player-beacon","beacon-msn-qa":"https://analytics-api.qa.monumentalsportsnetwork.com/player-beacon","beacon-msn-uat":"https://analytics-api.uat.monumentalsportsnetwork.com/player-beacon","beacon-prod":"https://1a7ahu122g.execute-api.us-east-1.amazonaws.com/production_beacon/firehouse-proxy",saveWatchHistoryV1:"/user/userId/history/video",saveWatchHistoryV2:"/v2/user/history",getVideoInfoV1:"/user/info/video",getVideoInfoV2:"/v2/user/info",getSeriesWatchHistoryV1:"/user/userId/history/video",getSeriesWatchHistoryV2:"/v2/user/history/series"};function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function p(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?f(Object(o),!0).forEach((function(n){e(t,n,o[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):f(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var h=3e4;function w(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}function g(e){return e?String(e):""}window.initialise=function(e){var t,n,o;window.sid=w();var i=function(e){switch(e){case"prod":default:return m["beacon-prod"];case"msndev":return m["beacon-msn-dev"];case"msnqa":return m["beacon-msn-qa"];case"msnuat":return m["beacon-msn-uat"]}}((null===(t=window)||void 0===t||null===(n=t.customData)||void 0===n||null===(o=n.beacon)||void 0===o?void 0:o.url)||"prod");window.beaconUrl=i,window.environment="production",window.platform="WEBSITE",streamFailures(e),buffering(e),ads(e),ping(e)},window.streamFailures=function(e){var t=Math.floor(e.currentTime());e.on("error",(function(){var n=Math.floor(e.currentTime());fireEvent({eventName:t===n?"FAILED_TO_START":"DROPPED_STREAM",videoPosition:Math.floor(e.currentTime()),isAdEvent:!1})}))},window.firstFrame=function(e){e.one("play",tryCatch((function(){window.ttFirstFrame=0,window.ttFirstFrameTimer=setInterval((function(){window.ttFirstFrame=window.handleBufferTimer(window.ttFirstFrame,e)}),h),fireEvent({eventName:"PLAY",videoPosition:Math.floor(e.currentTime()),isAdEvent:!1})})))},window.buffering=function(e){e.on("waiting",tryCatch((function(){window.ttFirstFrameTimer||(e.currentTime(),clearInterval(window.bufferingTimer),window.bufferingTimer=setInterval((function(){e.el_.className.includes("vjs-waiting")&&!e.paused()?window.totalBufferTime=handleBufferTimer(window.totalBufferTime,e):clearInterval(window.bufferingTimer)}),h))})))},window.handleBufferTimer=function(e,t){if(t.el_){var n=e+30;return Math.round(n,2)%5==0&&fireEvent({eventName:"BUFFERING",videoPosition:t.el_&&Math.floor(t.currentTime()),isAdEvent:!1}),n}clearInterval(window.ttFirstFrameTimer)},window.endFirstFrame=function(e){e.one("timeupdate",(function(){clearInterval(window.ttFirstFrameTimer),clearInterval(window.bufferingTimer),window.ttFirstFrameTimer=null,window.totalBufferTime=window.ttFirstFrame||0,fireEvent({eventName:"FIRST_FRAME",videoPosition:Math.floor(e.currentTime()),isAdEvent:!1,ttFirstFrame:window.ttFirstFrame,bufferHealth:window.getRemainingBufferTime(e)})}))},window.ads=function(e){e.on("adsready",(function(){e.ima.addEventListener(window.google.ima.AdEvent.Type.STARTED,(function(){fireEvent({eventName:"AD_REQUEST",videoPosition:Math.ceil(e.currentTime()),isAdEvent:!0,adPosition:1}),fireEvent({eventName:"AD_IMPRESSION",videoPosition:Math.ceil(e.currentTime()),isAdEvent:!0,adPosition:1})})),e.ima.addEventListener(window.google.ima.AdEvent.Type.SKIPPED,(function(){window.ttFirstFrame=0})),e.ima.addEventListener(window.google.ima.AdEvent.Type.COMPLETE,(function(){window.ttFirstFrame=0}))}))},window.ping=function(e){var t=[];e.on("timeupdate",(function(){var n=Math.floor(e.currentTime());n>=30&&n%30==0&&!t.includes(n)&&(t.push(n),fireEvent({eventName:"PING",videoPosition:n,isAdEvent:!1,resHeight:e.videoHeight(),resWidth:e.videoWidth(),bufferHealth:window.getRemainingBufferTime(e),bitrate:e.tech_.vhs&&window.getBitrate(e)}))}))},window.getBitrate=function(e){return Math.round(e.tech_.vhs.selectPlaylist().attributes.BANDWIDTH/1e3)},window.getRemainingBufferTime=function(e){return tryCatch((function(){for(var t=e.currentTime(),n=e.duration(),o=e.buffered(),i=0;i<o.length;i++){var r=o.start(i),l=o.end(i);if(y(t,r,l)){var a=Math.round(n-l);if(isFinite(a))return a}}}))()};var y=function(e,t,n){return e>=t&&e<=n};window.fireEvent=function(e){var n,o,i,r,l=[p(p({aid:window.siteName,cid:window.siteId,pfm:window.platform},null===(n=window)||void 0===n||null===(o=n.customData)||void 0===o||null===(i=o.beacon)||void 0===i?void 0:i.params),{},{uid:(r=window.sessionStorage.getItem("uid"),r||(r=w(),window.sessionStorage.setItem("uid",r),r)),vid:window.videoId,url:e.url||document.location.href,ref:e.ref||document.referrer,pa:e.eventName,vpos:g(e.videoPosition),environment:window.environment,dp1:e.dp1||"",dp2:e.dp2||"",dp3:e.dp3||"",dp4:e.dp4||"",dp5:e.dp5||"",apos:!0===e.isAdEvent?g(e.videoPosition):"",apod:!0===e.isAdEvent?g(e.adPosition):"",profid:"",player:e.playerType||"native",media_type:e.mediaType||"VIDEO",stream_id:window.sid,embedurl:"",ttfirstframe:g(e.ttFirstFrame),bitrate:g(e.bitrate),connectionspeed:"",resolutionheight:g(e.resHeight),resolutionwidth:g(e.resWidth),bufferhealth:g(e.bufferHealth)})];t({url:window.beaconUrl,method:"post",contentType:"application/x-www-form-urlencoded",dataType:"text",data:l}).catch((function(e){console.error(e)}))},window.tryCatch=function(e){return function(){try{return e.apply(window,arguments)}catch(e){return console.error(e),null}}};var C=function(e){return"<svg fill=".concat(e||"white","\n      class='icon icon-minimize'\n      viewBox=\"0 0 70 70\"\n    >\n      <path fill=").concat(e||"white",' d="M40.397 37.511h6.971l-3.16-3.146h-9.593v9.714l3.146 3.077v-6.648l8.823 8.823 2.817-2.817-9.004-9.004z" />\n      <path fill=').concat(e||"white",' d="M24.443 26.763h-6.971l3.16 3.146h9.593v-9.714l-3.146-3.077v6.648l-8.823-8.823-2.817 2.817 9.003 9.004z" />\n    </svg>')},b=function(e){return"<svg fill=".concat(e||"white","\n      class='icon icon-maximize'\n      viewBox=\"0 0 70 70\"\n    >\n      <path fill=").concat(e||"white",' d="M43.369 45.938h-6.971l3.16 3.146h9.593v-9.714l-3.146-3.077v6.648l-8.823-8.823-2.817 2.817 9.004 9.004z" />\n      <path fill=').concat(e||"white",' d="M21.969 18.834h6.971l-3.16-3.146h-9.593v9.714l3.146 3.077v-6.648l8.823 8.823 2.817-2.817-9.003-9.003z" />\n    </svg>')},T=function(e){return'<svg class=\'rewindbtn\' viewBox="0 0 18 19" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M7.88817 16.9913L7.72176 18.5762C9.58746 18.8613 11.4677 18.5376 13.1023 17.6161C17.1941 15.3094 18.4803 9.98978 15.9732 5.74243C13.47 1.50156 8.13865 -0.0590307 4.03665 2.25351C3.35173 2.64307 2.7379 3.12124 2.20384 3.67698L3.34087 4.82569C3.77642 4.37247 4.27773 3.98196 4.83679 3.66398C8.20452 1.76539 12.5901 3.04913 14.644 6.5288C16.6894 9.99402 15.6429 14.3223 12.3046 16.2043C10.9636 16.9602 9.42195 17.2257 7.88817 16.9913Z" fill='.concat(e,' />\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M3.10742 0.462205L0.56205 5.24366L6.06202 5.79492L3.10742 0.462205Z" fill=').concat(e||"white",' />\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M9.80172 14.1769C10.1682 14.1769 10.5096 14.1082 10.8258 13.9708C11.142 13.8333 11.416 13.6241 11.6479 13.343C11.8798 13.0619 12.0615 12.7059 12.1928 12.275C12.3242 11.8441 12.3898 11.3368 12.3898 10.753C12.3898 10.1661 12.3242 9.65803 12.1928 9.22868C12.0615 8.79934 11.8798 8.44413 11.6479 8.16305C11.416 7.88197 11.142 7.6727 10.8258 7.53525C10.5096 7.3978 10.1682 7.32907 9.80172 7.32907C9.43524 7.32907 9.09551 7.3978 8.78254 7.53525C8.46956 7.6727 8.19794 7.88197 7.96767 8.16305C7.7374 8.44413 7.5574 8.79934 7.42767 9.22868C7.29794 9.65803 7.23308 10.1661 7.23308 10.753C7.23308 11.3368 7.29794 11.8441 7.42767 12.275C7.5574 12.7059 7.7374 13.0619 7.96767 13.343C8.19794 13.6241 8.46956 13.8333 8.78254 13.9708C9.09551 14.1082 9.43524 14.1769 9.80172 14.1769ZM6.54713 14.1028V13.2457H5.28226V7.39394H4.2947L2.14929 9.13139L2.52875 9.62714C2.5547 9.66112 2.59443 9.69123 2.64794 9.71749C2.70145 9.74374 2.76064 9.75687 2.82551 9.75687C2.86767 9.75687 2.91064 9.75069 2.95443 9.73834C2.99821 9.72598 3.04118 9.70282 3.08335 9.66884L4.09524 8.86266C4.08551 9.02946 4.08064 9.18853 4.08064 9.33988V13.2457H2.65524V14.1028H6.54713ZM9.30308 13.1136C9.46362 13.1893 9.62983 13.2271 9.80172 13.2271C9.97686 13.2271 10.1455 13.1893 10.3077 13.1136C10.4698 13.038 10.6133 12.9059 10.7382 12.7175C10.8631 12.5291 10.9628 12.2758 11.0374 11.9576C11.112 11.6395 11.1493 11.238 11.1493 10.753C11.1493 10.2681 11.112 9.86652 11.0374 9.54838C10.9628 9.23023 10.8631 8.97695 10.7382 8.78853C10.6133 8.60011 10.4698 8.46807 10.3077 8.39239C10.1455 8.31672 9.97686 8.27888 9.80172 8.27888C9.62983 8.27888 9.46362 8.31672 9.30308 8.39239C9.14254 8.46807 9.00064 8.60011 8.8774 8.78853C8.75416 8.97695 8.65605 9.23023 8.58308 9.54838C8.5101 9.86652 8.47362 10.2681 8.47362 10.753C8.47362 11.238 8.5101 11.6395 8.58308 11.9576C8.65605 12.2758 8.75416 12.5291 8.8774 12.7175C9.00064 12.9059 9.14254 13.038 9.30308 13.1136Z" fill=').concat(e," />\n    </svg>")},k=function(e){return'<svg class=\'skipbtn\' viewBox="0 0 18 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M9.99586 16.9937L10.1623 18.5786C8.29657 18.8638 6.41631 18.54 4.78178 17.6185C0.689955 15.3118 -0.596286 9.9922 1.9108 5.74486C4.41407 1.50398 9.74539 -0.0566045 13.8474 2.25594C14.5323 2.64549 15.1461 3.12366 15.6802 3.6794L14.5432 4.82812C14.1076 4.3749 13.6063 3.98438 13.0472 3.66641C9.67952 1.76782 5.29397 3.05156 3.24002 6.53123C1.1946 9.99645 2.24115 14.3247 5.57947 16.2067C6.92039 16.9626 8.46208 17.2281 9.99586 16.9937Z" fill='.concat(e,' />\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M14.7766 0.464616L17.322 5.24607L11.822 5.79733L14.7766 0.464616Z" fill=').concat(e||"white",' />\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M13.0245 14.115C13.391 14.115 13.7323 14.0463 14.0486 13.9088C14.3648 13.7714 14.6388 13.5621 14.8707 13.281C15.1026 13 15.2842 12.644 15.4156 12.2131C15.5469 11.7822 15.6126 11.2749 15.6126 10.6911C15.6126 10.1042 15.5469 9.59609 15.4156 9.16675C15.2842 8.73741 15.1026 8.38219 14.8707 8.10111C14.6388 7.82003 14.3648 7.61076 14.0486 7.47331C13.7323 7.33586 13.391 7.26714 13.0245 7.26714C12.658 7.26714 12.3183 7.33586 12.0053 7.47331C11.6923 7.61076 11.4207 7.82003 11.1904 8.10111C10.9602 8.38219 10.7802 8.73741 10.6504 9.16675C10.5207 9.59609 10.4559 10.1042 10.4559 10.6911C10.4559 11.2749 10.5207 11.7822 10.6504 12.2131C10.7802 12.644 10.9602 13 11.1904 13.281C11.4207 13.5621 11.6923 13.7714 12.0053 13.9088C12.3183 14.0463 12.658 14.115 13.0245 14.115ZM9.76991 14.0409V13.1837H8.50504V7.332H7.51748L5.37207 9.06945L5.75153 9.56521C5.77748 9.59918 5.81721 9.6293 5.87072 9.65555C5.92423 9.68181 5.98342 9.69493 6.04829 9.69493C6.09045 9.69493 6.13342 9.68876 6.17721 9.6764C6.22099 9.66405 6.26396 9.64088 6.30612 9.6069L7.31802 8.80073C7.30829 8.96752 7.30342 9.1266 7.30342 9.27795V13.1837H5.87802V14.0409H9.76991ZM12.5259 13.0517C12.6864 13.1274 12.8526 13.1652 13.0245 13.1652C13.1996 13.1652 13.3683 13.1274 13.5304 13.0517C13.6926 12.976 13.8361 12.844 13.961 12.6556C14.0859 12.4671 14.1856 12.2139 14.2602 11.8957C14.3348 11.5776 14.3721 11.176 14.3721 10.6911C14.3721 10.2061 14.3348 9.80459 14.2602 9.48644C14.1856 9.16829 14.0859 8.91501 13.961 8.7266C13.8361 8.53818 13.6926 8.40613 13.5304 8.33046C13.3683 8.25478 13.1996 8.21694 13.0245 8.21694C12.8526 8.21694 12.6864 8.25478 12.5259 8.33046C12.3653 8.40613 12.2234 8.53818 12.1002 8.7266C11.9769 8.91501 11.8788 9.16829 11.8059 9.48644C11.7329 9.80459 11.6964 10.2061 11.6964 10.6911C11.6964 11.176 11.7329 11.5776 11.8059 11.8957C11.8788 12.2139 11.9769 12.4671 12.1002 12.6556C12.2234 12.844 12.3653 12.976 12.5259 13.0517Z" fill=').concat(e," />\n    </svg>")},E=function(e){return'<svg width="18" height="16" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M5 6.5H10M5 10H13M7.68375 16H14.2C15.8802 16 16.7202 16 17.362 15.673C17.9265 15.3854 18.3854 14.9265 18.673 14.362C19 13.7202 19 12.8802 19 11.2V5.8C19 4.11984 19 3.27976 18.673 2.63803C18.3854 2.07354 17.9265 1.6146 17.362 1.32698C16.7202 1 15.8802 1 14.2 1H5.8C4.11984 1 3.27976 1 2.63803 1.32698C2.07354 1.6146 1.6146 2.07354 1.32698 2.63803C1 3.27976 1 4.11984 1 5.8V18.3355C1 18.8684 1 19.1348 1.10923 19.2716C1.20422 19.3906 1.34827 19.4599 1.50054 19.4597C1.67563 19.4595 1.88367 19.2931 2.29976 18.9602L4.68521 17.0518C5.17252 16.662 5.41617 16.4671 5.68749 16.3285C5.9282 16.2055 6.18443 16.1156 6.44921 16.0613C6.74767 16 7.0597 16 7.68375 16Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n    '};function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function O(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?I(Object(o),!0).forEach((function(n){e(t,n,o[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):I(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var P=function(e,n){var o,i;return t({url:A(),params:O({id:e,deviceType:"web_browser",contentConsumption:"web"},null===(o=window)||void 0===o||null===(i=o.customData)||void 0===i?void 0:i.entitlement),method:"GET",headers:{Authorization:n},withCredentials:!0})},S=function(e,n){var o,i,r=(null===(o=window)||void 0===o||null===(i=o.watchHistory)||void 0===i?void 0:i.apiVersion)||"v1";if("v1"==r){var l,a,d=JSON.parse(atob(n.split(".")[1])),s=(null==d?void 0:d.site)||null;return t({method:"GET",url:x(e),params:{site:s},headers:{Authorization:n,"x-api-key":null===(l=window)||void 0===l||null===(a=l.watchHistory)||void 0===a?void 0:a.xApiKey}})}if("v2"==r){var u,c;JSON.parse(atob(n.split(".")[1]));var v=window.contentType;return t({method:"GET",url:j(e,v),headers:{Authorization:n,"x-api-key":null===(u=window)||void 0===u||null===(c=u.watchHistory)||void 0===c?void 0:c.xApiKey}})}},B=function(e){return R()+"".concat(null==m?void 0:m.getSeriesWatchHistoryV2,"/").concat(e)},D=function(){return R()+"".concat(null==m?void 0:m.getSeriesWatchHistoryV1)},x=function(e){return R()+"".concat(null==m?void 0:m.getVideoInfoV1,"/").concat(e)},j=function(e,t){return R()+"".concat(null==m?void 0:m.getVideoInfoV2,"/").concat(t,"/").concat(e)},H=function(){return R()+"".concat(null==m?void 0:m.saveWatchHistoryV1)},M=function(){return R()+"".concat(null==m?void 0:m.saveWatchHistoryV2)},A=function(){return R()+"".concat(null==m?void 0:m.getVideoDetails)},L=function(e,t){return R()+"".concat(null==m?void 0:m.getSeriesDetails)},R=function(){var e;return(null===(e=window)||void 0===e?void 0:e.playerEntitlementUrl)||(null==m?void 0:m.apiBaseUrl)};function N(e,t){var n,o,i=he().getPlayer(e),r=null==i||null===(n=i.controlBar)||void 0===n||null===(o=n.playToggle)||void 0===o?void 0:o.el_,l=document.getElementsByTagName("video")[0];l&&l.addEventListener("keydown",(function(n){switch(n.key){case" ":return n.preventDefault(),l&&l.focus(),void(r&&r.click());case"m":case"M":return n.preventDefault(),l&&l.focus(),void(i.muted()?i.muted(!1):i.muted(!0));case"f":n.preventDefault(),l&&l.focus();var o=document.querySelector(".vjs-fullscreen-control");return void(o&&o.click());case"F":n.preventDefault();var a=document.querySelector(".vjs-fullscreen-control");return void(a&&a.click());case"ArrowLeft":if((1==t.liveVideo||1==t.liveui)&&0==t.liveui)break;return n.preventDefault(),l&&l.focus(),void he().rewind(e,10);case"ArrowRight":if(1==t.liveVideo||1==t.liveui)break;return n.preventDefault(),l&&l.focus(),void he().skip(e,10);default:return}}))}var V=function(e,t){if(Promise.resolve().then((function(){return require("./error-5b659e33.js")})).then((function(e){var t=document.createElement("style");t.id="errorblock",t.append("".concat(e.default)),document.head.appendChild(t)})),document.getElementsByClassName("error-container")[0]){var n=document.getElementsByClassName("error-message")[0];n&&(n.innerHTML="".concat(t))}else{var o=document.getElementById(e),i=document.createElement("div");i.className="error-container";var r=document.createElement("div");r.className="error-message",r.innerHTML="".concat(t),i.appendChild(r),o.append(i)}},_=function(){document.getElementsByClassName("error-container")[0]&&document.getElementsByClassName("error-container")[0].remove()};function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function q(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?F(Object(o),!0).forEach((function(n){e(t,n,o[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):F(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var z=function(e,t){t.controlBar.el_.style.color=e,t.controlBar.el_.querySelector(".vjs-play-progress")&&(t.controlBar.el_.querySelector(".vjs-play-progress").style.backgroundColor=e),t.controlBar.el_.querySelector(".vjs-volume-level")&&(t.controlBar.el_.querySelector(".vjs-volume-level").style.backgroundColor=e)};function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=c(e);if(t){var i=c(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return u(this,n)}}var W=i.getComponent("Component"),Z=function(t){s(o,W);var n=U(o);function o(t){var a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l(this,o),a=n.call(this,t,s),e(d(a),"masterRenditions",[]),e(d(a),"addCustomFont",(function(e){var t=i.dom.createEl("div",{className:"font hideCustomFonts"}),n=i.dom.createEl("p",{className:"customFontHeading",innerHTML:"Font Size"});i.dom.appendContent(t,n);var o=i.dom.createEl("div",{className:"font-options"});o.style.fontSize="12px",a.fontSizeOptions.map((function(e,t){var n=i.dom.createEl("div",{className:"options",innerHTML:'<div class="radio-item" >\n          <input class=opt'.concat(t,' type="radio" id=').concat(e,' name="item" />\n          <label class="radio-btn-lable" for=').concat(e,">").concat(e,"pt</label>\n          </div>")});n.addEventListener("click",(function(e){var t=e.target.id;a.changeFontSize(t)})),i.dom.appendContent(o,n)})),i.dom.appendContent(t,o),i.dom.appendContent(e,t)})),e(d(a),"resetRenditions",(function(){r(document.getElementsByClassName("rendition")).map((function(e){i.dom.removeClass(e,"selected")}))})),a.playerId=null==s?void 0:s.playerId,a.skin=null==s?void 0:s.position,a.masterRenditions=[],a.fontSizeOptions=[10,12,14],a.createRenditions(s.renditions),window.height=null,a}return a(o,[{key:"toggleContentOnHover",value:function(e,t){var n=i.dom.$(".setting-icon",e);n.addEventListener("mouseover",(function(){i.dom.removeClass(t,"hidden")})),t.addEventListener("mouseover",(function(){i.dom.removeClass(t,"hidden")})),n.addEventListener("mouseout",(function(){i.dom.addClass(t,"hidden")})),t.addEventListener("mouseout",(function(){i.dom.addClass(t,"hidden")}))}},{key:"changeFontSize",value:function(e){var t=i.dom.$(".renditions",this.contentEl()),n=i.dom.$(".font-options",this.contentEl());t.style.fontSize="".concat(e,"px"),n.style.fontSize="".concat(e,"px")}},{key:"createRenditions",value:function(e){var t=this,n=this.el();i.dom.$(".setting-icon",this.el()).innerHTML="".concat('<svg width="16" height="16" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M11 14C12.6569 14 14 12.6569 14 11C14 9.34315 12.6569 8 11 8C9.34315 8 8 9.34315 8 11C8 12.6569 9.34315 14 11 14Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    <path d="M17.7273 13.7273C17.6063 14.0015 17.5702 14.3056 17.6236 14.6005C17.6771 14.8954 17.8177 15.1676 18.0273 15.3818L18.0818 15.4364C18.2509 15.6052 18.385 15.8057 18.4765 16.0265C18.568 16.2472 18.6151 16.4838 18.6151 16.7227C18.6151 16.9617 18.568 17.1983 18.4765 17.419C18.385 17.6397 18.2509 17.8402 18.0818 18.0091C17.913 18.1781 17.7124 18.3122 17.4917 18.4037C17.271 18.4952 17.0344 18.5423 16.7955 18.5423C16.5565 18.5423 16.3199 18.4952 16.0992 18.4037C15.8785 18.3122 15.678 18.1781 15.5091 18.0091L15.4545 17.9545C15.2403 17.745 14.9682 17.6044 14.6733 17.5509C14.3784 17.4974 14.0742 17.5335 13.8 17.6545C13.5311 17.7698 13.3018 17.9611 13.1403 18.205C12.9788 18.4489 12.8921 18.7347 12.8909 19.0273V19.1818C12.8909 19.664 12.6994 20.1265 12.3584 20.4675C12.0174 20.8084 11.5549 21 11.0727 21C10.5905 21 10.1281 20.8084 9.78708 20.4675C9.4461 20.1265 9.25455 19.664 9.25455 19.1818V19.1C9.24751 18.7991 9.15011 18.5073 8.97501 18.2625C8.79991 18.0176 8.55521 17.8312 8.27273 17.7273C7.99853 17.6063 7.69437 17.5702 7.39947 17.6236C7.10456 17.6771 6.83244 17.8177 6.61818 18.0273L6.56364 18.0818C6.39478 18.2509 6.19425 18.385 5.97353 18.4765C5.7528 18.568 5.51621 18.6151 5.27727 18.6151C5.03834 18.6151 4.80174 18.568 4.58102 18.4765C4.36029 18.385 4.15977 18.2509 3.99091 18.0818C3.82186 17.913 3.68775 17.7124 3.59626 17.4917C3.50476 17.271 3.45766 17.0344 3.45766 16.7955C3.45766 16.5565 3.50476 16.3199 3.59626 16.0992C3.68775 15.8785 3.82186 15.678 3.99091 15.5091L4.04545 15.4545C4.25503 15.2403 4.39562 14.9682 4.4491 14.6733C4.50257 14.3784 4.46647 14.0742 4.34545 13.8C4.23022 13.5311 4.03887 13.3018 3.79497 13.1403C3.55107 12.9788 3.26526 12.8921 2.97273 12.8909H2.81818C2.33597 12.8909 1.87351 12.6994 1.53253 12.3584C1.19156 12.0174 1 11.5549 1 11.0727C1 10.5905 1.19156 10.1281 1.53253 9.78708C1.87351 9.4461 2.33597 9.25455 2.81818 9.25455H2.9C3.2009 9.24751 3.49273 9.15011 3.73754 8.97501C3.98236 8.79991 4.16883 8.55521 4.27273 8.27273C4.39374 7.99853 4.42984 7.69437 4.37637 7.39947C4.3229 7.10456 4.18231 6.83244 3.97273 6.61818L3.91818 6.56364C3.74913 6.39478 3.61503 6.19425 3.52353 5.97353C3.43203 5.7528 3.38493 5.51621 3.38493 5.27727C3.38493 5.03834 3.43203 4.80174 3.52353 4.58102C3.61503 4.36029 3.74913 4.15977 3.91818 3.99091C4.08704 3.82186 4.28757 3.68775 4.50829 3.59626C4.72901 3.50476 4.96561 3.45766 5.20455 3.45766C5.44348 3.45766 5.68008 3.50476 5.9008 3.59626C6.12152 3.68775 6.32205 3.82186 6.49091 3.99091L6.54545 4.04545C6.75971 4.25503 7.03183 4.39562 7.32674 4.4491C7.62164 4.50257 7.9258 4.46647 8.2 4.34545H8.27273C8.54161 4.23022 8.77093 4.03887 8.93245 3.79497C9.09397 3.55107 9.18065 3.26526 9.18182 2.97273V2.81818C9.18182 2.33597 9.37338 1.87351 9.71435 1.53253C10.0553 1.19156 10.5178 1 11 1C11.4822 1 11.9447 1.19156 12.2856 1.53253C12.6266 1.87351 12.8182 2.33597 12.8182 2.81818V2.9C12.8193 3.19253 12.906 3.47834 13.0676 3.72224C13.2291 3.96614 13.4584 4.15749 13.7273 4.27273C14.0015 4.39374 14.3056 4.42984 14.6005 4.37637C14.8954 4.3229 15.1676 4.18231 15.3818 3.97273L15.4364 3.91818C15.6052 3.74913 15.8057 3.61503 16.0265 3.52353C16.2472 3.43203 16.4838 3.38493 16.7227 3.38493C16.9617 3.38493 17.1983 3.43203 17.419 3.52353C17.6397 3.61503 17.8402 3.74913 18.0091 3.91818C18.1781 4.08704 18.3122 4.28757 18.4037 4.50829C18.4952 4.72901 18.5423 4.96561 18.5423 5.20455C18.5423 5.44348 18.4952 5.68008 18.4037 5.9008C18.3122 6.12152 18.1781 6.32205 18.0091 6.49091L17.9545 6.54545C17.745 6.75971 17.6044 7.03183 17.5509 7.32674C17.4974 7.62164 17.5335 7.9258 17.6545 8.2V8.27273C17.7698 8.54161 17.9611 8.77093 18.205 8.93245C18.4489 9.09397 18.7347 9.18065 19.0273 9.18182H19.1818C19.664 9.18182 20.1265 9.37338 20.4675 9.71435C20.8084 10.0553 21 10.5178 21 11C21 11.4822 20.8084 11.9447 20.4675 12.2856C20.1265 12.6266 19.664 12.8182 19.1818 12.8182H19.1C18.8075 12.8193 18.5217 12.906 18.2778 13.0676C18.0339 13.2291 17.8425 13.4584 17.7273 13.7273Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>').concat("default"===this.skin?"":"&nbsp Settings");var o=i.dom.createEl("div",{className:"content hidden"}),r=i.dom.createEl("p",{innerHTML:"Quality",className:"title"}),l=i.dom.createEl("div",{className:"resolution"});i.dom.appendContent(l,r),this.toggleContentOnHover(n,o);var a=i.dom.createEl("div",{className:"renditions"});this.player_.tech_.vhs?(e.map((function(e,n){var o=i.dom.createEl("div",{className:"relative"}),r=(e.bandwidth/1048576).toFixed(1),l="".concat(e.height,"p ").concat(e.height>719&&e.height<1081?"<span>HD</span>":e.height>1081&&e.height<1500?"<span>2K (HD)</span>":e.height>1501?"<span>4K (HD)</span>":"");l="".concat(e.height,"p @ ").concat(r,"mbps ").concat(e.height>719&&e.height<1081?"<span>HD</span>":e.height>1081&&e.height<1500?"<span>2K (HD)</span>":e.height>1501?"<span>4K (HD)</span>":"");var d=i.dom.createEl("p",{innerHTML:l,className:"rendition",res:e.height,bandwidth:e.bandwidth});i.dom.appendContent(o,d),i.dom.appendContent(a,o),d.addEventListener("click",(function(e){window.height!==e.target.res&&(t.resetRenditions(),window.height=e.target.res,window.bandwidth=parseInt(e.target.bandwidth),window.selectedVideo=e.target.video,K(t.playerId,e.target),i.dom.addClass(d,"selected"))}))})),this.addAutoRendition("nondrm",a),"Safari"!=he().detectBrowser()&&this.addDynamicSwitchIfAuto()):(e.map((function(e,n){var o=i.dom.createEl("div",{className:"relative"}),r=(e.bitrate/1e6).toFixed(1),l="".concat(e.height,"p ").concat(e.height>719&&e.height<1081?"<span>HD</span>":e.height>1081&&e.height<1500?"<span>2K (HD)</span>":e.height>1501?"<span>4K (HD)</span>":"");window.enableResolutionsBitrate&&(l="".concat(e.height,"p @ ").concat(r,"mbps ").concat(e.height>719&&e.height<1081?"<span>HD</span>":e.height>1081&&e.height<1500?"<span>2K (HD)</span>":e.height>1501?"<span>4K (HD)</span>":""));var d=i.dom.createEl("p",{innerHTML:l,className:"rendition",res:e.height,qualityIndex:e.qualityIndex});i.dom.appendContent(o,d),i.dom.appendContent(a,o),d.addEventListener("click",(function(e){window.height!==e.target.res&&(t.resetRenditions(),window.height=e.target.res,window.selectedVideo=e.target.video,window.qualityIndex=e.target.qualityIndex,K(t.playerId,e.target),i.dom.addClass(d,"selected"))}))})),this.addAutoRendition("drm",a)),i.dom.appendContent(l,a),i.dom.appendContent(o,l),i.dom.appendContent(n,o)}},{key:"addDynamicSwitchIfAuto",value:function(){for(var e,t=this.player_.textTracks(),n=0;n<t.length;n++)"segment-metadata"===t[n].label&&(e=t[n]);var o=null;e&&e.on("cuechange",(function(){var t,n,i=e.activeCues[0];if(console.log("Resolution: "+(null==i||null===(t=i.value)||void 0===t||null===(n=t.resolution)||void 0===n?void 0:n.height)+"p"),i&&document.querySelector(".auto.selected")){var r,l,a,d,s,u,c,v;if(null!=i&&null!==(r=i.value)&&void 0!==r&&null!==(l=r.resolution)&&void 0!==l&&l.height&&o!==(null==i||null===(a=i.value)||void 0===a||null===(d=a.resolution)||void 0===d?void 0:d.height))document.querySelector(".auto.selected").innerHTML="Auto ".concat(null==i||null===(c=i.value)||void 0===c||null===(v=c.resolution)||void 0===v?void 0:v.height,"p");o=null==i||null===(s=i.value)||void 0===s||null===(u=s.resolution)||void 0===u?void 0:u.height}}))}},{key:"createEl",value:function(){var e=i.dom.createEl("div",{className:"container"}),t=i.dom.createEl("div",{className:"setting-icon"});return i.dom.appendContent(e,t),e}},{key:"addAutoRendition",value:function(e,t){var n=this;if("nondrm"==e){var o,r,l,a,d=null===(o=this.player_)||void 0===o||null===(r=o.tech_)||void 0===r?void 0:r.vhs.selectPlaylist().attributes.RESOLUTION.height,s=null===(l=this.player_)||void 0===l||null===(a=l.tech_)||void 0===a?void 0:a.vhs.selectPlaylist().attributes.BANDWIDTH,u=i.dom.createEl("div",{className:"relative"}),c=i.dom.createEl("p",{innerHTML:"Auto ".concat(d,"p"),className:"rendition auto selected",bandwidth:s,res:d});c.addEventListener("click",(function(e){window.height!==e.target.res&&(n.resetRenditions(),i.dom.addClass(c,"selected"),window.height=e.target.res,window.bandwidth=parseInt(e.target.bandwidth),window.selectedVideo=e.target.video,K(n.playerId,null,!0))})),i.dom.appendContent(u,c),i.dom.appendContent(t,u)}else{var v=i.dom.createEl("div",{className:"relative"}),m=i.dom.createEl("p",{innerHTML:"Auto",className:"rendition selected",qualityIndex:"auto"});m.addEventListener("click",(function(e){n.resetRenditions(),i.dom.addClass(m,"selected"),window.qualityIndex=e.target.qualityIndex,window.selectedVideo=e.target.video,K(n.playerId,null,!0)})),i.dom.appendContent(v,m),i.dom.appendContent(t,v)}}}]),o}(),K=function(e,t,n){var o,r=he().getPlayer(e),l=null==t?void 0:t.bandwidth;if((null==r||null===(o=r.tech_)||void 0===o?void 0:o.vhs)||!1){r.tech_.vhs.representations().forEach((function(e){n||e.bandwidth===l?(r.tech_.vhs.playlists.media(r.tech_.vhs.playlists.master.playlists),e.enabled(!0)):e.enabled(!1)})),r.handleTechPlaying_();var a=r.currentTime();r.currentTime(0),setTimeout((function(){r.currentTime(a),r.play()}),100);var d=i.dom.$(".content");d&&i.dom.addClass(d,"hidden")}else{var s=null==t?void 0:t.qualityIndex;if(n){var u,c;null==r||null===(u=r.dash)||void 0===u||null===(c=u.mediaPlayer)||void 0===c||c.resetSettings()}else{var v,m,f,p;null==r||null===(v=r.dash)||void 0===v||null===(m=v.mediaPlayer)||void 0===m||m.updateSettings({streaming:{abr:{autoSwitchBitrate:!1}}}),null==r||null===(f=r.dash)||void 0===f||null===(p=f.mediaPlayer)||void 0===p||p.setQualityFor("video",s,!0);var h=r.currentTime();r.currentTime(0),setTimeout((function(){r.currentTime(h),r.play()}),100);var w=i.dom.$(".content");w&&i.dom.addClass(w,"hidden")}}},G=Object.freeze({__proto__:null,playSelectedResolution:K,default:Z});function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function $(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?J(Object(o),!0).forEach((function(n){e(t,n,o[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):J(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var X,Q,Y,ee=function(e,t){var n,o,i,r,l,a,d,s,u=null==e||null===(n=e.video)||void 0===n?void 0:n.drmEnabled,c=null==e||null===(o=e.video)||void 0===o||null===(i=o.streamingInfo)||void 0===i?void 0:i.videoAssets,v=(null==e||null===(r=e.video)||void 0===r||null===(l=r.streamingInfo)||void 0===l||null===(a=l.videoAssets)||void 0===a?void 0:a.hls)||!1,m=(null==e||null===(d=e.video)||void 0===d||null===(s=d.liveDetails)||void 0===s?void 0:s.isDvrEnabled)||!1;if(u){var f=oe(c,t);return m&&(f=$($({},f),{},{src:te($($({},e.video),{},{src:"".concat(f.src)}))})),f}if(v){var p=ne(c);return m&&(p=$($({},p),{},{src:te($($({},e.video),{},{src:"".concat(p.src)}))})),p}if(null!=c&&c.mpeg){var h=function(e){var t=null==e?void 0:e.mpeg;return{src:t[t.length-1].url,type:"video/mp4"}}(c);return h}return null},te=function(e){var t=e.src;if(e.liveDetails.startOverTime){var n=e.liveDetails.startOverTime,o=e.gist.scheduleStartDate,i=e.gist.scheduleEndDate,r=new Date,l=0,a=r.getTime();l=a-o<1e3*n?a-o:1e3*n;var d=null;i<=a&&null!=i&&(d=new Date(i)),r.setMilliseconds(r.getMilliseconds()-l),t=t.includes("?")?i?"".concat(e.src,"&start=").concat(r.toISOString(),"&end=").concat(d.toISOString()):"".concat(e.src,"&start=").concat(r.toISOString()):i?"".concat(e.src,"?start=").concat(r.toISOString(),"&end=").concat(d.toISOString()):"".concat(e.src,"?start=").concat(r.toISOString())}return t},ne=function(e){var t=null==e?void 0:e.hls;return t?{src:t,type:"application/x-mpegURL"}:null},oe=function(e,t){var n=e.fairPlay,o=e.widevine,r=e.playReady,l=he().detectBrowser(),a=he().getPlayer(t);if("Safari"===l){var d=function(e){var t=e.url;return{src:t,type:"application/x-mpegURL",keySystems:{"com.apple.fps.1_0":{getCertificate:function(t,n){var o={uri:e.certificateUrl,method:"GET",responseType:"arraybuffer"};i.xhr(o,(function(e,t,o){console.log(e),e&&n(e),n(null,new Uint8Array(o))}))},getContentId:function(e,t){if(t)return new TextDecoder("utf-16").decode(t.slice(16))},getLicense:function(t,n,o,r){var l={uri:e.licenseUrl,method:"POST",responseType:"arraybuffer",body:o,headers:{"Content-type":"application/octet-stream","X-AxDRM-Message":e&&e.licenseToken}};i.xhr(l,(function(e,t,n){console.log(e),e&&r(e),r(null,n)}))}}}}}(n);try{a.eme()}catch(e){}return d}if("Chrome"===l||"Firefox"===l){var s={src:o.url,type:"application/dash+xml",keySystemOptions:[]};return s.keySystemOptions.push({name:"com.widevine.alpha",options:{serverURL:o.licenseUrl,httpRequestHeaders:{"X-AxDRM-Message":o.licenseToken}}}),s}if("IE"===l){var u={src:r.url,type:"application/dash+xml",keySystemOptions:[]};return u.keySystemOptions.push({name:"com.microsoft.playready",options:{serverURL:r.licenseUrl,httpRequestHeaders:{"X-AxDRM-Message":r.licenseToken}}}),u}};function ie(e,n,o){var i;Q=o,clearInterval(X);var r=(null==n||null===(i=n.watchHistory)||void 0===i?void 0:i.interval)||30,l=he().getPlayer(e);r*=1e3,l.on("playing",(function(){!function(e,n,o){var i,r;Y=(null==n||null===(i=n.watchHistory)||void 0===i?void 0:i.apiVersion)||"v1";var l=null==n||null===(r=n.watchHistory)||void 0===r?void 0:r.profileId;X||(X=setInterval((function(){var o,i=Math.floor(e.currentTime()),r=Math.floor(e.duration()),a=null==n||null===(o=n.watchHistory)||void 0===o?void 0:o.xapiKey,d={};"v1"==Y?d={videoId:Q,watchedTime:Math.floor(e.currentTime()),watchedPercentage:Math.floor(i/r*100),siteOwner:n.siteOwner,userId:n.userId,xApiKey:a}:"v2"==Y&&(d={videoId:Q,watchedTime:Math.floor(e.currentTime()),watchedPercentage:Math.floor(i/r*100),doneWatching:!1,profileId:l}),function(e,n,o){if("v1"==o){var i={siteOwner:null==e?void 0:e.siteOwner,userId:null==e?void 0:e.userId,videoId:null==e?void 0:e.videoId,watchedPercentage:null==e?void 0:e.watchedPercentage,watchedTime:null==e?void 0:e.watchedTime};return t({url:H(),method:"POST",headers:{Authorization:n,"x-api-key":e.xApiKey},params:{version:"v2"},data:JSON.stringify(i),withCredentials:!0})}if("v2"==o){var r={doneWatching:!1,videoId:null==e?void 0:e.videoId,watchedPercentage:null==e?void 0:e.watchedPercentage,watchedTime:null==e?void 0:e.watchedTime,profileId:null==e?void 0:e.profileId};t({url:M(),method:"POST",headers:{Authorization:n},data:r})}}(d,n.token,Y)}),o))}(l,n,r)})),l.on("pause",(function(){clearTimeout(X),X=null}))}var re=0,le=-1,ae=function e(t,n,o,i,r){t>o.length-1||he().load(n,o[t].id,i).then((function(e){r&&r(e)})).catch((function(t){setTimeout((function(){le++,e(le,n,o,i,r)}),3e3)}))};function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function se(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?de(Object(o),!0).forEach((function(n){e(t,n,o[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):de(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var ue,ce,ve,me,fe=!1,pe=0;function he(){var r,l=function(e,t){var n=i(e),o=n.currentTime()+t;n.currentTime(o)},a=function(e,t){var n=i(e),o=n.currentTime(),r=o<=t?0:o-t;n.currentTime(r)},d=function(e){return!!i.getPlayer("".concat(e))&&i.getPlayer("".concat(e))},s=function(e){return"live"!==e&&"carousel"!==e},u=function(t,r,l,a){var s,u,h,w,g,y,C,b,T,k,I,O,P=r.res,S=void 0===P?null:P,j=r.sres,H=void 0===j?null:j,M=(null===(s=window)||void 0===s||null===(u=s.cast)||void 0===u||null===(h=u.framework)||void 0===h||null===(w=h.CastContext)||void 0===w||null===(g=w.getInstance())||void 0===g?void 0:g.S)||void 0,A=null!=l&&l.chromecastReceiverId?"NO_DEVICES_AVAILABLE"!==M&&"NOT_CONNECTED"!==M?["html5","chromecast"]:["chromecast","html5"]:["html5"],L=null==S||null===(y=S.video)||void 0===y||null===(C=y.gist)||void 0===C?void 0:C.videoImageUrl,R=(null==S||null===(b=S.video)||void 0===b||null===(T=b.liveDetails)||void 0===T?void 0:T.isDvrEnabled)||!1,N=function(e){var t={};return null!=e&&e.series||null!=e&&e.chromecastReceiverId&&(t={chromecast:{receiverAppID:null==e?void 0:e.chromecastReceiverId,addButtonToControlBar:"default"==e.skin,buttonPositionIndex:-6,addCastLabelToButton:!0}}),null!=e&&e.airplay&&(t=q(q({},t),{},{airPlay:{addButtonToControlBar:"default"==e.skin,buttonPositionIndex:-1}})),t}(l),_=(null==S||null===(k=S.video)||void 0===k||null===(I=k.streamingInfo)||void 0===I?void 0:I.isLiveStream)||!1,F=(O={controls:!0,playsinline:!0,fluid:!0,autoplay:(null==l?void 0:l.autoplay)||!1,controlBar:{volumePanel:"default"==l.skin&&{inline:!1},fullscreenToggle:"default"==l.skin,pictureInPictureToggle:(l.skin,!1)},liveui:R},e(O,"autoplay",null==l?void 0:l.autoplay),e(O,"html5",{vhs:{limitRenditionByPlayerDimensions:!0,useDevicePixelRatio:!0,useNetworkInformationApi:!0},nativeTextTracks:!1}),e(O,"poster",L),e(O,"techOrder",A),e(O,"chromecast",{requestCustomDataFn:function(e){var n=d(t);console.log(n.textTracksJson_);var o=n.textTracksJson_.filter((function(e){return"subtitles"==e.kind}));return B(S,e,o)}}),e(O,"plugins",N),O),U=i(t,F,function(){var e=n(o.mark((function e(){var n,r,d,s,u,h,w,g,y,C,b,T,k,I,O,P,B,j,M,A,L,N,q,W,Z,K,G,J,$,X;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.initialise(U),window.firstFrame(U),"white"!==window.controlsColor&&z(window.controlsColor,U),/Android|iPhone/i.test(navigator.userAgent)&&(i.options.hls.overrideNative=!0),N=null==S||null===(n=S.video)||void 0===n?void 0:n.drmEnabled,null==S||null===(r=S.video)||void 0===r||null===(d=r.streamingInfo)||void 0===d||d.videoAssets,null==S||null===(s=S.video)||void 0===s||null===(u=s.streamingInfo)||void 0===u||null===(h=u.videoAssets)||void 0===h||h.hls,q=(null==S||null===(w=S.ads)||void 0===w||null===(g=w.preRoll)||void 0===g||null===(y=g.adTags)||void 0===y||null===(C=y.web)||void 0===C?void 0:C.active)&&(null==S||null===(b=S.ads)||void 0===b||null===(T=b.preRoll)||void 0===T||null===(k=T.adTags)||void 0===k||null===(I=k.web)||void 0===I?void 0:I.url),W=null==S||null===(O=S.video)||void 0===O||null===(P=O.liveDetails)||void 0===P?void 0:P.startOverTime,!N){e.next=15;break}if("Safari"!==he().detectBrowser()){e.next=13;break}return e.next=13,v.loadEMELibrary();case 13:return e.next=15,v.loadDashLibrary();case 15:R&&x(t,W),q&&D(t,q),(Z=ee(S,t))?f(t,Z):(a.reject({status:!1,msg:"Incompatible Source, only hls,mp4,drm content is allowed",response:S}),V(t,"Incompatible Source, only hls,mp4,drm content is allowed")),((null==S||null===(B=S.video)||void 0===B||null===(j=B.contentDetails)||void 0===j||null===(M=j.closedCaptions)||void 0===M?void 0:M.length)>0||(null==S||null===(A=S.video)||void 0===A||null===(L=A.closedCaptions)||void 0===L?void 0:L.length)>0)&&(X=(null==S||null===(G=S.video)||void 0===G||null===(J=G.contentDetails)||void 0===J?void 0:J.closedCaptions)||(null==S||null===($=S.video)||void 0===$?void 0:$.closedCaptions),K=X.filter((function(e){return"VTT"===e.format})),E(t,K)),null!=l&&l.disableControls&&c(),m(t,null==l?void 0:l.skin,se(se({},F),{},{liveVideo:_,isDvrEnabled:R})),p(t,se(se(se({},l),F),{},{liveVideo:_}),a,{res:S,sres:H});case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}())},c=function(){var e=document.getElementsByClassName("vjs-control-bar")[0];e&&(e.style.visibility="hidden");var t=document.getElementsByClassName("vjs-big-play-button")[0];t&&(t.style.display="none");var n=document.getElementsByClassName("vjs-fullscreen-control")[0];n&&(n.style.display="none")},m=function(e,t,n){if("live"==t)N(e,n),Promise.resolve().then((function(){return require("./skin-bc3adf15.js")})).then((function(t){t.initialiseLiveSkin(e,n)}));else if("default"==t){var o=document.getElementsByClassName("vjs-current-time")[0],r=document.getElementsByClassName("vjs-duration")[0],s=document.getElementsByClassName("vjs-time-divider")[0];(n.liveVideo&&0==n.liveui||n.liveVideo&&n.liveui)&&(o&&(o.style.display="none"),r&&(r.style.display="none"),s&&(s.style.display="none")),N(e,n),0==n.liveVideo&&0==n.liveui&&function(e){if(!document.getElementsByClassName("vjs-skip-button")[0]){var t=i.getComponent("Button"),n=i.extend(t,{constructor:function(){t.apply(this,arguments);var e=this.el_;e.classList.add("vjs-skip-button"),e.innerHTML=k(window.controlsColor)},handleClick:function(){l(e,10)}});i.registerComponent("MyButton",n),i(e).getChild("controlBar").addChild("myButton",{},1)}}(e),(0==n.liveVideo&&0==n.liveui||1==n.liveui)&&function(e){if(!document.getElementsByClassName("vjs-rewind-button")[0]){var t=i.getComponent("Button"),n=i.extend(t,{constructor:function(){t.apply(this,arguments);var e=this.el_;e.classList.add("vjs-rewind-button"),e.innerHTML=T(window.controlsColor)},handleClick:function(){a(e,10)}});i.registerComponent("MyButton",n),i(e).getChild("controlBar").addChild("myButton",{},1)}}(e),Promise.resolve().then((function(){return require("./skin-7db7dbc0.js")})).then((function(e){var t=document.createElement("style");t.id="def_skin",t.append("".concat(e.default)),document.head.appendChild(t)}));var u=d(e);if(document.getElementsByClassName("icon-minimize")[0]&&document.getElementsByClassName("icon-maximize")[0])return;u.controlBar.getChild("FullscreenToggle").el().appendChild(H(C(window.controlsColor))),u.controlBar.getChild("FullscreenToggle").el().appendChild(H(b(window.controlsColor)));var c=u.controlBar.getChild("SubsCapsButton").el();document.getElementById(e).getElementsByClassName("vjs-subs-caps-button")[1].appendChild(he().createIconMarkup('<svg width="18" height="16" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M5 6.5H10M5 10H13M7.68375 16H14.2C15.8802 16 16.7202 16 17.362 15.673C17.9265 15.3854 18.3854 14.9265 18.673 14.362C19 13.7202 19 12.8802 19 11.2V5.8C19 4.11984 19 3.27976 18.673 2.63803C18.3854 2.07354 17.9265 1.6146 17.362 1.32698C16.7202 1 15.8802 1 14.2 1H5.8C4.11984 1 3.27976 1 2.63803 1.32698C2.07354 1.6146 1.6146 2.07354 1.32698 2.63803C1 3.27976 1 4.11984 1 5.8V18.3355C1 18.8684 1 19.1348 1.10923 19.2716C1.20422 19.3906 1.34827 19.4599 1.50054 19.4597C1.67563 19.4595 1.88367 19.2931 2.29976 18.9602L4.68521 17.0518C5.17252 16.662 5.41617 16.4671 5.68749 16.3285C5.9282 16.2055 6.18443 16.1156 6.44921 16.0613C6.74767 16 7.0597 16 7.68375 16Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n    '));var v=document.createElement("div");v.classList.add("caption-header"),c.querySelector(".vjs-menu-content").insertBefore(v,c.querySelector(".vjs-menu-item"))}else"carousel"==t&&Promise.resolve().then((function(){return require("./skin-512b0b86.js")})).then((function(t){t.initaliseSkin(e)}))},f=function(e,t){d(e).src(t)},p=function(e,t,n,o){var r=o.res,l=o.sres,a=d(e);a.on("loadeddata",(function(){var o;_(),n.resolve(se({status:!0,msg:"Player Initialised"},l?{seriesResponse:l,response:r}:{response:r})),l&&"default"==(null==t?void 0:t.skin)&&Promise.resolve().then((function(){return require("./nextEpisodeButton-e39136e5.js")})).then((function(e){e.initaliseFunctionality(ue.seasons,ce)})),null!=t&&t.watchHistory&&null!=t&&null!==(o=t.watchHistory)&&void 0!==o&&o.enable&&!me&&ie(e,t,ce.video.gist.id),null!=t&&t.nextVideos&&function(e){var t,n;le++,clearTimeout(re);var o=null==e||null===(t=e.nextVideos)||void 0===t?void 0:t.content,i=null==e||null===(n=e.nextVideos)||void 0===n?void 0:n.cb,r=e.playerId,l=e.token;le>o.length-1||he().onVideoEnded(r,(function(){he().load(r,o[le].id,l).then((function(e){i&&i(e)})).catch((function(e){le++,re=setTimeout((function(){ae(le,r,o,l,i)}),3e3)}))}))}(t)})),a.one("loadedmetadata",(function(){l&&"default"==(null==t?void 0:t.skin)&&(y(e,null==l?void 0:l.seasons,t),h(l,r,e)),null!=t&&t.streams&&function(e,t){Promise.resolve().then((function(){return require("./mwebPotraitTray-30f567ba.js")})).then((function(n){var o=n.default,r=d(e);i.registerComponent("mwebPotraitTray",o),r.getChild("controlBar").addChild("mwebPotraitTray",{playerId:e,config:t},0)}))}(e,t)})),a.textTracks().on("change",(function(e){var t=this.tracks_.filter((function(e){if("subtitles"===e.kind&&"showing"===e.mode)return!0}))[0];a.trigger("subtitlechanged",t)})),a.on("subtitlechanged",(function(e,t){var n,o,i,r,l,a,d,s,u,c,v=window.cast&&window.cast.framework&&window.cast.framework.CastSession,m=null===(n=window)||void 0===n||null===(o=n.cast)||void 0===o||null===(i=o.framework)||void 0===i||null===(r=i.CastContext)||void 0===r||null===(l=r.getInstance())||void 0===l?void 0:l.S,f=null===(a=window)||void 0===a||null===(d=a.cast)||void 0===d||null===(s=d.framework)||void 0===s||null===(u=s.CastContext)||void 0===u||null===(c=u.getInstance())||void 0===c?void 0:c.getCurrentSession();if(v&&"CONNECTED"===m){var p,h=f.getMediaSession(),w=h.media.tracks.filter((function(e){return"TEXT"==e.type}));p=t?new chrome.cast.media.EditTracksInfoRequest([w[0].trackId]):new chrome.cast.media.EditTracksInfoRequest([]),h.editTracksInfo(p)}})),a.on("loadedmetadata",(function(){window.endFirstFrame(a),"Safari"!==j()&&w(e,null==t?void 0:t.skin)})),a.one("firstplay",(function(){null!=t&&t.streams&&function(e,t){Promise.resolve().then((function(){return require("./multicam-b2ed2b6a.js")})).then((function(n){var o=n.default,r=t.streams,l=d(e);i.registerComponent("multicamModule",o),l.getChild("controlBar").addChild("multicamModule",{playerId:e,streams:r,config:t},l.controlBar.children().length)}));var n=document.querySelector(".vjs-control-bar");n&&"live"==(null==t?void 0:t.skin)&&(n.style.background="transparent")}(e,se({},t)),pe&&a.currentTime(pe),"live"==(null==t?void 0:t.skin)&&(null!=t&&t.airplay&&a.addChild("airPlayButton"),null!=t&&t.chromecastReceiverId&&a.addChild("chromecastButton"),a.addChild("FullscreenToggle"),a.getChild("FullscreenToggle").el().appendChild(H(C(window.controlsColor))),a.getChild("FullscreenToggle").el().appendChild(H(b(window.controlsColor))),Promise.resolve().then((function(){return require("./skin-bc3adf15.js")})).then((function(t){t.hideControls(a,e)})))})),a.one("error",(function(){var t,o;V(e,(null==a||null===(t=a.error())||void 0===t?void 0:t.message)||"Some error occured"),n.reject({status:!1,msg:(null==a||null===(o=a.error())||void 0===o?void 0:o.message)||"Some error occured"})}))},h=function(e,t,n){Promise.resolve().then((function(){return require("./nextEpisodeButton-e39136e5.js")})).then((function(o){var r=o.default,l=d(n);i.registerComponent("nextEpisodeButtonModule",r),l.getChild("controlBar").addChild("nextEpisodeButtonModule",{playerId:n,sres:e,res:t},l.controlBar.children().length-5)}))},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";Promise.resolve().then((function(){return G})).then((function(n){var o=n.default;document.getElementById(e).getElementsByClassName("container")[0]&&document.getElementById(e).getElementsByClassName("container")[0].remove();var r=d(e),l=he().getRenditions(e);(null==l?void 0:l.length)>0&&(i.registerComponent("resolutionModule",o),r.getChild("controlBar").addChild("resolutionModule",{playerId:e,position:t,renditions:l},r.controlBar.children().length-6))}))},g=function(e,t,n){var o,r,l,a,d,s,u,c=null==e||null===(o=e.response)||void 0===o||null===(r=o.data)||void 0===r?void 0:r.errorCode,v=(null==e||null===(l=e.response)||void 0===l||null===(a=l.data)||void 0===a?void 0:a.errorMessage)||(null==e?void 0:e.message);he().isPlayerInitialised(t)||i(t,{fluid:!0}),V(t,(null===(d=window)||void 0===d?void 0:d.customErrors)&&(null===(s=window)||void 0===s?void 0:s.customErrors[c])||"".concat(v)),n&&n({response:null==e||null===(u=e.response)||void 0===u?void 0:u.data,messsage:"".concat(v)})},y=function(e,t,n){Promise.resolve().then((function(){return require("./series-218760bb.js")})).then((function(o){var r=o.seriesModule,l=d(e);i.registerComponent("seriesModule",r),l.getChild("controlBar").addChild("seriesModule",{playerId:e,seriesData:t},l.controlBar.children().length-4);for(var a=document.querySelectorAll(".season-title-sdk"),s=function(e){a[e].addEventListener("click",(function(){t[e]&&o.handleSeasonChange(t[e],e,l,n)}))},u=0;u<a.length;u++)s(u)}))},E=function(e,t){var n=d(e);n.remoteTextTracks().tracks_.map((function(e){n.removeRemoteTextTrack(e)})),t.map((function(e){n.addRemoteTextTrack({src:e.url,srcLang:e.language,label:e.language})}))},I=function(e){var t=d(e);t.remoteTextTracks().tracks_.map((function(e){null==e||e.kind,t.removeRemoteTextTrack(e)}))},B=function(e,t,n){var o,i,r,l,a,d,s,u,c,v,m={};if(e&&e.video&&e.video.drmEnabled){m.isDrmEnabled=!0;var f=t.keySystemOptions&&t.keySystemOptions[0]&&t.keySystemOptions[0].options&&t.keySystemOptions[0].options.serverURL;m.licenseUrl=f;var p=t.keySystemOptions&&t.keySystemOptions[0]&&t.keySystemOptions[0].options&&t.keySystemOptions[0].options.httpRequestHeaders["X-AxDRM-Message"];m.licenseToken=p}var h=(null==e||null===(o=e.video)||void 0===o||null===(i=o.gist)||void 0===i?void 0:i.contentType)||"VIDEO";m.contentType=h;var w=null==e||null===(r=e.video)||void 0===r||null===(l=r.gist)||void 0===l?void 0:l.runtime;m.duration=w;var g=null==e||null===(a=e.video)||void 0===a||null===(d=a.gist)||void 0===d?void 0:d.title;m.mediaTitle=g;var y=null==e||null===(s=e.video)||void 0===s||null===(u=s.gist)||void 0===u?void 0:u.videoImageUrl;return m.mediaImage=y,m.subTitles=n,m.DVR=(null==e||null===(c=e.video)||void 0===c||null===(v=c.liveDetails)||void 0===v?void 0:v.isDvrEnabled)||!1,console.log(m),m},D=function(e,t){var n=d(e);t&&window.google&&(n.ima.initializeAdDisplayContainer&&n.ima.initializeAdDisplayContainer(),fe?(n.ima.setContentWithAdTag(null,t,!0),n.ima.requestAds()):function(e,t){var n,o,i,r=d(e);if(null!==r.el_){fe=!0;var l={id:e,adTagUrl:"".concat(t,"&vid=").concat(window.videoId,"&url=").concat(window.location.href,"&correlator=").concat((new Date).getTime(),"&cust_params=sd%3D60000%26site%3D").concat(window.location.origin,"%26autostart%3D%26mute%3D%26user_agent%3D%26keyword%3D%26category%3D").concat(window.category,"%26vid%3D").concat(window.videoId),adLabel:"Your video will resume after this sponsor message"};r.ima.initializeAdDisplayContainer&&r.ima.initializeAdDisplayContainer(),fe&&null!==r.el_&&("function"==typeof r.ima?r.ima(l):setTimeout((function(){r.ima.setContentWithAdTag(null,t,!0),r.ima.requestAds()}),1e3));var a=document.getElementById("".concat(e));(navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i))&&a.hasAttribute("controls")&&a.removeAttribute("controls");var s="click",u=!1;(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i))&&(u=!0,s="touchend"),r.one(s,(function(){u&&r.ima.initializeAdDisplayContainer()}));var c=(null===(n=window)||void 0===n||null===(o=n.customData)||void 0===o||null===(i=o.ads)||void 0===i?void 0:i.adEventHandler)||null;r.one("ads-ad-started",(function(){c&&c({status:"STARTED",msg:"Advertisement Started"})})),r.one("ads-manager",(function(e){e.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,(function(){c&&c({status:"ENDED",msg:"Advertisement Ended"})}))})),r.on("adserror",(function(e){c&&c({status:"ERROR",msg:"Advertisement Error"})}))}}(e,t))},x=function(e,t){var n=d(e);n&&t&&n.controlBar&&n.controlBar.progressControl.seekBar.on("click",(function(t){var n,o,r,l,a,d=this.el(),s=i.dom.getPointerPosition(d,t).x;i.getPlayer(e).controlBar.durationDisplay.options_.playerOptions.disableRemotePlayback=!1;var u=window.cast&&window.cast.framework&&window.cast.framework.CastSession,c=null===(n=window)||void 0===n||null===(o=n.cast)||void 0===o||null===(r=o.framework)||void 0===r||null===(l=r.CastContext)||void 0===l||null===(a=l.getInstance())||void 0===a?void 0:a.S;if(console.log(u),u&&"CONNECTED"===c){window.cast.framework.RemotePlayer.canSeek=!0;var v=new window.cast.framework.RemotePlayerController(window.cast.framework.RemotePlayer),m=v.b.media[0].liveSeekableRange.end;v.getSeekPosition(),window.cast.framework.RemotePlayer.currentTime=m*s,v.seek()}}))},j=function(){return navigator.userAgent.indexOf("Edg")>-1?"IE":-1!=(navigator.userAgent.indexOf("Opera")||navigator.userAgent.indexOf("OPR"))?"Opera":-1!=navigator.userAgent.indexOf("Chrome")?"Chrome":-1!=navigator.userAgent.indexOf("Safari")?"Safari":-1!=navigator.userAgent.indexOf("Firefox")?"Firefox":"Unknown"},H=function(e){var t=document.createElement("div");return t.innerHTML=e,t.children[0]},M=function(){document.getElementById("carousel_homepage")&&document.getElementById("carousel_homepage").remove(),document.getElementById("dvr_skin")&&document.getElementById("dvr_skin").remove(),document.getElementById("nondvr_skin")&&document.getElementById("nondvr_skin").remove(),document.getElementById("multicam")&&document.getElementById("multicam").remove(),document.getElementById("errorblock")&&document.getElementById("errorblock").remove(),document.getElementById("def_skin")&&document.getElementById("def_skin").remove()};return r={loadVideoInstantly:function(e,t){var n=d(e);return n.src(t),new Promise((function(e,t){n.on("loadedmetadata",(function(){e({status:!0,msg:"video loaded"})}))}))},onTimeUpdate:function(e,t){var n=d(e);n?n.on("timeupdate",(function(){return t(n.currentTime())})):t("Cannot find player with id: '".concat(e,"'"))},getVideoDuration:function(e){var t=d(e);return t?t.duration():"Cannot find player with id: '".concat(e,"'")},onVideoEnded:function(e,t){var n=d(e);n?n.one("ended",(function(){return t(!0)})):t("Cannot find player with id: '".concat(e,"'"))},init:function(e){return new Promise((function(n,o){var i,r,l,a,d,c,v=null==e?void 0:e.videoId;window.videoId=v;var m=null==e?void 0:e.token;ve=JSON.parse(atob(m.split(".")[1])),window.siteId=null===(i=ve)||void 0===i?void 0:i.siteId,window.siteName=null===(r=ve)||void 0===r?void 0:r.site,me=!(null===(l=ve)||void 0===l||!l.anonymousId),e.siteOwner=(null===(a=ve)||void 0===a?void 0:a.site)||null,e.userId=(null===(d=ve)||void 0===d?void 0:d.userId)||null,null!==(c=ve)&&void 0!==c&&c.userId&&window.sessionStorage.setItem("uid",ve.userId),window.watchHistory=e.watchHistory||null,sessionStorage.setItem("token",m);var f=null==e?void 0:e.playerId,p=e.chromecastReceiverId=null!=e&&e.series?null:null==e?void 0:e.chromecastReceiverId,h=null==e?void 0:e.airplay,w=null==e?void 0:e.apiBaseUrl,y=null==e?void 0:e.errors;y&&(window.customErrors=y),window.customData=null==e?void 0:e.customData,w&&(window.playerEntitlementUrl=w),window.controlsColor=(null==e?void 0:e.controlsColor)||"white",(null==e||!e.skin||s(e.skin)||null!=e&&e.disableControls)&&(e.skin="default"),null!=e&&e.enableAdvertisements&&Promise.resolve().then((function(){return require("./library-1d9e03ba.js")})).then((function(e){e.importIMA()})),!p||null!=e&&e.series||Promise.resolve().then((function(){return require("./library-1d9e03ba.js")})).then((function(e){e.importChromecast()})),h&&Promise.resolve().then((function(){return require("./library-1d9e03ba.js")})).then((function(e){e.importAirplay()})),null!=e&&e.series||P(v,m).then((function(t){var i,r,l,a;window.contentType=null==t||null===(i=t.data)||void 0===i||null===(r=i.video)||void 0===r||null===(l=r.gist)||void 0===l?void 0:l.contentType,ce=t.data;var d=t.data;null!=e&&e.watchHistory&&null!=e&&null!==(a=e.watchHistory)&&void 0!==a&&a.enable&&!me?S(v,m).then((function(t){var i,r,l,a,s;null!==(i=window)&&void 0!==i&&null!==(r=i.watchHistory)&&void 0!==r&&r.cb&&(null===(l=window)||void 0===l||null===(a=l.watchHistory)||void 0===a||a.cb(null==t?void 0:t.data)),pe=(null==t||null===(s=t.data)||void 0===s?void 0:s.watchedTime)||null,window.siteId=null==t?void 0:t.siteId,window.siteName=null==t?void 0:t.siteName,u(f,{res:d},e,{resolve:n,reject:o})})).catch((function(t){var i,r,l,a;null!==(i=window)&&void 0!==i&&null!==(r=i.watchHistory)&&void 0!==r&&r.cb&&(null===(l=window)||void 0===l||null===(a=l.watchHistory)||void 0===a||a.cb(t)),u(f,{res:d},e,{resolve:n,reject:o})})):u(f,{res:d},e,{resolve:n,reject:o})})).catch((function(e){g(e,f,o)})),null!=e&&e.series&&function(e,n){var o,i,r=JSON.parse(atob(n.split(".")[1])),l=r&&r.countryCode;return t({url:L(),params:O({id:e,deviceType:"web_browser",contentConsumption:"web",countryCode:l,episodeData:!0},null===(o=window)||void 0===o||null===(i=o.customData)||void 0===i?void 0:i.entitlement),method:"GET",headers:{Authorization:n},withCredentials:!0})}(v,m).then((function(t){ue=t.data.series;var i=t.data.series,r=t.data.series.seasons[0].episodes[0].id;P(r,m).then((function(t){var r,l,a;window.contentType=null==t||null===(r=t.data)||void 0===r||null===(l=r.video)||void 0===l||null===(a=l.gist)||void 0===a?void 0:a.contentType,ce=t.data,u(f,{res:null==t?void 0:t.data,sres:i},e,{resolve:n,reject:o})})).catch((function(e){g(e,f,o)}))})).catch((function(e){g(e,f,o)}))}))},getRenditions:function(e){var t,n=d(e),o=[];if((null==n||null===(t=n.tech_)||void 0===t?void 0:t.vhs)||!1){var i,r,l=null==n||null===(i=n.tech_)||void 0===i||null===(r=i.vhs)||void 0===r?void 0:r.representations();(null==l?void 0:l.length)>0&&(o=null==l?void 0:l.sort((function(e,t){return t.height-e.height})))}else{var a,s,u=null==n||null===(a=n.dash)||void 0===a||null===(s=a.mediaPlayer)||void 0===s?void 0:s.getBitrateInfoListFor("video");(null==u?void 0:u.length)>0&&(o=null==u?void 0:u.sort((function(e,t){return t.height-e.height})))}return o},skip:l,getPlayer:d,play:function(e){i(e).play()},pause:function(e){i(e).pause()},reset:function(e){var t=d(e);t.controls(!1),t.reset()},detectBrowser:j,rewind:a},e(r,"skip",l),e(r,"addSlowMotion",(function(e){var t=i.getComponent("Button"),n=i.extend(t,{constructor:function(){t.apply(this,arguments);var e=this.el_;e.classList.add("vjs-slowmo-button"),e.innerHTML="Slow Mo"},handleClick:function(){1==o.playbackRate()?(o.playbackRate(.5),this.el().style.background="darkgray"):(o.playbackRate(1),this.el().style.background="gray")}});i.registerComponent("MyButton",n);var o=i(e);o.getChild("controlBar").addChild("myButton",{},0)})),e(r,"createIconMarkup",H),e(r,"loadVideo",f),e(r,"seekToTimeStamp",(function(e,t,n){var o=d(e);o?t>=0&&t<=o.duration()?(n({status:!0,msg:"Successfully seeked to timestamp : ".concat(t)}),o.currentTime(t)):n({status:!1,msg:"Out of bounds, please provide a valid timestamp"}):n("Cannot find player with id: '".concat(e,"'"))})),e(r,"isPlayerInitialised",(function(e){return!!i.getPlayer("".concat(e))})),e(r,"addCaptions",E),e(r,"load",(function(e,t,n){var o,i,r;return null!==(o=window)&&void 0!==o&&o.watchHistory&&null!==(i=window)&&void 0!==i&&null!==(r=i.watchHistory)&&void 0!==r&&r.enable&&S(t,n).then((function(e){var t,n,o,i,r;null!==(t=window)&&void 0!==t&&null!==(n=t.watchHistory)&&void 0!==n&&n.cb&&(null===(o=window)||void 0===o||null===(i=o.watchHistory)||void 0===i||i.cb(null==e?void 0:e.data)),pe=(null==e||null===(r=e.data)||void 0===r?void 0:r.watchedTime)||null})).catch((function(e){var t,n,o,i;null!==(t=window)&&void 0!==t&&null!==(n=t.watchHistory)&&void 0!==n&&n.cb&&(null===(o=window)||void 0===o||null===(i=o.watchHistory)||void 0===i||i.cb(e))})),new Promise((function(o,i){P(t,n).then((function(t){var n=null==t?void 0:t.data;ce=t.data;var r=ee(n,e);if(r){var l,a,s,u,c,v,m,p,h,w,g,y=null==n||null===(l=n.video)||void 0===l||null===(a=l.gist)||void 0===a?void 0:a.videoImageUrl,C=d(e);if(C.pause(e),C.poster(y),f(e,r),C.on("loadeddata",(function(){_(),o({status:!0,msg:"Video Loaded",response:n}),ie(e,window.watchHistory,ce.video.gist.id)})),C.on("firstplay",(function(){pe&&C.currentTime(pe)})),C.one("error",(function(){var e;i({status:!1,msg:(null==C||null===(e=C.error())||void 0===e?void 0:e.message)||"Some error occured"})})),(null==n||null===(s=n.video)||void 0===s||null===(u=s.contentDetails)||void 0===u||null===(c=u.closedCaptions)||void 0===c?void 0:c.length)>0||(null==n||null===(v=n.video)||void 0===v||null===(m=v.closedCaptions)||void 0===m?void 0:m.length)>0)p=((null==n||null===(h=n.video)||void 0===h||null===(w=h.contentDetails)||void 0===w?void 0:w.closedCaptions)||(null==n||null===(g=n.video)||void 0===g?void 0:g.closedCaptions)).filter((function(e){return"VTT"===e.format})),E(e,p);else I(e)}else V(e,"Incompatible Source, only hls,mp4,drm content is allowed"),i("Incompatible Source, only hls,mp4,drm content is allowed")})).catch((function(t){g(t,e,i)}))}))})),e(r,"dispose",(function(e){var t=d(e);M(),window.onresize=null,t.dispose()})),e(r,"enableCaptions",(function(e,t){for(var n=d(e).textTracks(),o=0;o<n.length;o++){var i=n[o];"subtitles"===i.kind&&i.id==t&&(i.mode="showing")}})),e(r,"disableCaptions",(function(e,t){for(var n=d(e).textTracks(),o=0;o<n.length;o++){var i=n[o];"subtitles"===i.kind&&i.id===t&&(i.mode="hidden")}})),e(r,"getCaptions",(function(e){var t,n=d(e);return(null==n||null===(t=n.textTracks())||void 0===t?void 0:t.tracks_.filter((function(e){return"subtitles"==e.kind})))||[]})),e(r,"playSelectedResolution",K),e(r,"getSource",ee),e(r,"setVolume",(function(e,t,n){var o=he().getPlayer(e);if(o)if(t>=0&&t<=100){var i=parseFloat(t)/100;o.volume(i),n({status:!0,msg:"Volume set to ".concat(t,"%")})}else n({status:!1,msg:"Please enter a valid volume percentage (0  V  100)"});else n({status:!1,msg:"Cannot find player with id: '".concat(e,"'")})})),e(r,"getVolume",(function(e){var t=he().getPlayer(e);return t?parseInt(100*t.volume())+"%":"Cannot find player with id: '".concat(e,"'")})),e(r,"disableControls",c),e(r,"setPlaybackSpeed",(function(e,t){var n,o=null===(n=he())||void 0===n?void 0:n.getPlayer(e);if(!o)return"Cannot find player with id: '".concat(e,"'");try{return o.playbackRate(t),"Playback speed set to ".concat(t,"x")}catch(e){return"Error: ".concat(e)}})),r}exports.EpisodesSvg=function(){return'<svg class=\'icon icon-episodes\' width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M1 11.7368C1 11.3299 1.32989 11 1.73684 11H16.2632C16.6701 11 17 11.3299 17 11.7368V21.2632C17 21.6701 16.6701 22 16.2632 22H1.73684C1.3299 22 1 21.6701 1 21.2632V11.7368Z" fill="white"/>\n    <path d="M5 8H19.2632C19.6701 8 20 8.3299 20 8.73684V18" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    <path d="M8 4H22.2632C22.6701 4 23 4.3299 23 4.73684V13" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>'},exports.NewCaptionsSvg=E,exports.PlayNextEpisodeSvg=function(e){return'<svg className=\'icon-play-next\' width="16" height="16" viewBox="0 0 25 25" fill='.concat(e,' xmlns="http://www.w3.org/2000/svg">\n    <path d="M14.8837 9.99984L0 0V20L14.8837 9.99984Z" fill=').concat(e,' />\n    <rect x="18" width="2" height="20" fill=').concat(e," />\n    </svg>")},exports.VLPlayerCore=he,exports.getSeriesWatchHistory=function(e){var n,o;if("v1"==((null===(n=window)||void 0===n||null===(o=n.watchHistory)||void 0===o?void 0:o.apiVersion)||"v1"))return t({method:"GET",url:D(),params:{site:null==e?void 0:e.siteOwner,version:"v2",seriesId:e.videoId},headers:{Authorization:e.token}});var i=e.videoId;return t({method:"GET",url:B(i),headers:{Authorization:e.token}})},exports.showLoader=function(e){document.getElementById("".concat(e)).classList.add("vjs-waiting")};
