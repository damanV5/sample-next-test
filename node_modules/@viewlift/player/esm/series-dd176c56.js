import e from"@babel/runtime/helpers/asyncToGenerator";import t from"@babel/runtime/helpers/classCallCheck";import i from"@babel/runtime/helpers/createClass";import n from"@babel/runtime/helpers/assertThisInitialized";import s from"@babel/runtime/helpers/inherits";import r from"@babel/runtime/helpers/possibleConstructorReturn";import o from"@babel/runtime/helpers/getPrototypeOf";import a from"@babel/runtime/helpers/defineProperty";import c from"@babel/runtime/regenerator";import l from"video.js";import{E as d,g as p,V as u,s as v}from"./index-cb62414e.js";import"video.js/dist/video-js.min.css";import"axios";import"@babel/runtime/helpers/toConsumableArray";import"./library-ad46544b.js";function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=o(e);if(t){var s=o(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return r(this,i)}}var f,h=l.getComponent("Component"),g=function(e){s(o,h);var r=m(o);function o(e){var i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t(this,o),i=r.call(this,e,s),a(n(i),"seriesData",[]),i.seriesData=s.seriesData,f=s.playerId;var c=i.el();return L(c,i.seriesData),i}return i(o,[{key:"createEl",value:function(){var e=document.createElement("div");return e.classList.add("vjs-season-list"),e}}]),o}();function b(){return(b=e(c.mark((function e(t,i,n,s){var r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=sessionStorage.getItem("token"),u().pause(f),v(f),u().load(f,i,r).then((function(e){u().play(f)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t,i,n){var s=document.getElementById("season-list"),r=document.getElementById("episode-list"),o=document.getElementById("episode-container");e.id;var a=e.episodes.map((function(e,t){return'\n  <div id="episode-wrapper" class="episode-wrapper">\n  <div class="episode-title" id="episode-title">\n      <div class="details-wrapper">\n          <div id="title-wrapper" class="title-wrapper">'.concat(t+1," ").concat(e.title,' </div>\n          <div class="progress-bar-div">\n          <div id="progress-div" class="progress-div"></div>\n          </div>\n      </div>\n      <div class="meta-details">\n          <div class="episode-image lazy" style="width:124px; height: 70px;">\n              <img src=').concat(e.gist.videoImageUrl,' alt="').concat(e.title,'\'s cover"></img>\n          </div>\n          <div class="description-wrapper">').concat(e.gist.description,"</div>\n      </div>\n  </div>\n  </div>")})).join(""),c=a;o.innerHTML=c,function(e){p(e).then((function(e){var t=e.data,i=document.querySelectorAll("#progress-div");i&&t.map((function(e,t){e&&e.watchedPercentage&&i[t]&&(i[t].style.width=e.watchedPercentage+"px")}))}))}(n),s.classList.toggle("hide-container"),r.classList.toggle("hide-container");var l=document.querySelectorAll(".details-wrapper"),d=document.querySelectorAll("#episode-title"),u=document.querySelectorAll(".meta-details"),v=document.querySelector("#episodes-back-btn"),m=e.id,f=e.episodes;v.addEventListener("click",(function(){return function(e,t){e.classList.remove("hide-container"),t.classList.add("hide-container")}(s,r)}));for(var h=function(t){l[t].addEventListener("click",(function(){return function(e,t,i){var n=t.querySelector(".meta-details");t.classList.toggle("episode-active"),n.classList.toggle("metadetails-active"),i.forEach((function(t,n){n!==e&&(i[n].classList.remove("episode-active"),i[n].querySelector(".meta-details").classList.remove("metadetails-active"))}))}(t,d[t],d)})),u[t].addEventListener("click",(function(){return function(e,t,i,n){return b.apply(this,arguments)}(t,f[t].id,i,d)})),e.episodes[t].id==m&&d[t].classList.add("highlight-active-eps")},g=0;g<l.length;g++)h(g)}function L(e,t){e.innerHTML='<div class="hover-div"></div>\n    '.concat(d(),'\n  <div  class="player-season-list-container on-click-toggle">\n  <div id="season-list" class="season-list">\n    <div class="season-list-head">seasons</div>\n    <div class="season-name-container">\n    ').concat(function(e){return e.map((function(e,t){return'<div\n                    class="season-title-sdk"\n                    key='.concat("title-".concat(e.title),'\n                >  <div class="season-container">\n                    ',e.title,"\n                    </div>\n                </div>\n    ")})).join("")}(t),'\n    </div>\n    </div>\n    <div id="episode-list" class="episode-list hide-container"><div id="episodes-back-btn" class="episodes-back-btn" >\n    <svg class=\'icon icon-backward\' height="22px" width="22px" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M0.383092 19.5818C-0.0882695 19.0669 -0.124672 18.2566 0.273985 17.6961L0.382714 17.5615L7.30134 9.99714L0.383092 2.43893C-0.0882694 1.92406 -0.124672 1.11374 0.273985 0.553232L0.382714 0.418625C0.853882 -0.0964584 1.59542 -0.136236 2.10835 0.299398L2.23153 0.418213L11 9.99608L2.23191 19.5814C1.72148 20.1394 0.893733 20.1396 0.383092 19.5818Z" fill="white"/>\n    </svg>\n    <span>Episodes<span></div> <div id="episode-container" class="episode-container"> </div></div>\n    </div>')}export{L as customSeasonList,y as handleSeasonChange,g as seriesModule};
