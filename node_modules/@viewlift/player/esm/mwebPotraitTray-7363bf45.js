import e from"@babel/runtime/helpers/classCallCheck";import t from"@babel/runtime/helpers/createClass";import r from"@babel/runtime/helpers/inherits";import o from"@babel/runtime/helpers/possibleConstructorReturn";import n from"@babel/runtime/helpers/getPrototypeOf";import l from"video.js";import{s,V as a}from"./index-cb62414e.js";import"video.js/dist/video-js.min.css";import"@babel/runtime/helpers/defineProperty";import"axios";import"@babel/runtime/helpers/asyncToGenerator";import"@babel/runtime/regenerator";import"@babel/runtime/helpers/toConsumableArray";import"@babel/runtime/helpers/assertThisInitialized";import"./library-ad46544b.js";function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,l=n(e);if(t){var s=n(this).constructor;r=Reflect.construct(l,arguments,s)}else r=l.apply(this,arguments);return o(this,r)}}var c=l.getComponent("Component"),d=function(o){r(d,c);var n=i(d);function d(t){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e(this,d),(r=n.call(this,t,o)).playerId=o.playerId,r.createUI(null==o?void 0:o.config.streams),r}return t(d,[{key:"createEl",value:function(){return l.dom.createEl("div",{className:"mweb-potrait-parent"})}},{key:"createUI",value:function(e){var t=this,r=this.el(),o=l.dom.createEl("div",{className:"broadcast"});o.innerHTML="Broadcasts";var n=l.dom.createEl("div",{className:"potraittray hideMWebTray"});n.style.width="".concat(window.innerWidth-50,"px");var s=l.dom.createEl("div",{className:"tilecontainer-potrait"});l.dom.appendContent(r,o),l.dom.appendContent(r,n),l.dom.appendContent(n,s),o.addEventListener("click",(function(){null!=n&&n.classList.contains("hideMWebTray")?(n.classList.remove("hideMWebTray"),t.toggleProgressControls(!0),r.style.background="darkgray"):(null==n||n.classList.add("hideMWebTray"),t.toggleProgressControls(!1),r.style.background="gray")})),this.loadCSS();for(var a=0;a<e.length;a++)this.createTile(e[a],a)}},{key:"createTile",value:function(e,t){var r=this,o=this.el(),n=l.dom.createEl("div",{className:"tile-potrait-mweb ".concat(t)});0==t&&(n.style.border="2px solid red"),n.style.backgroundImage="url(".concat(e.img,")");var i=l.dom.$(".tilecontainer-potrait",this.contentEl());l.dom.appendContent(i,n);var c=sessionStorage.getItem("token");return n.addEventListener("click",(function(t){s(r.playerId),r.removeSelectedTile();var o=document.getElementsByClassName("".concat(t.srcElement.className))[0];o&&(o.style.border="2px solid red"),a().load(r.playerId,e.id,c).then((function(e){a().play(r.playerId)}))})),o}},{key:"removeSelectedTile",value:function(){for(var e=document.getElementsByClassName("tile-potrait-mweb"),t=0;t<e.length;t++)e[t].style.border=0}},{key:"loadCSS",value:function(){import("./mwebPotrait-98482e56.js").then((function(e){var t=document.createElement("style");t.className="mweb",t.append("".concat(e.default)),document.head.appendChild(t)}))}},{key:"toggleProgressControls",value:function(e){var t=document.querySelector(".vjs-progress-control.vjs-control"),r=document.querySelector(".vjs-play-control.vjs-control.vjs-button"),o=document.querySelector(".vjs-remaining-time.vjs-time-control.vjs-control"),n=document.querySelector(".vjs-seek-to-live-control.vjs-control");e?(null==t||t.classList.add("hide-controls"),null==r||r.classList.add("hide-controls"),null==o||o.classList.add("hide-controls"),null==n||n.classList.add("hide-controls")):(null!=t&&t.classList.contains("hide-controls")&&(null==t||t.classList.remove("hide-controls")),null!=r&&r.classList.contains("hide-controls")&&(null==r||r.classList.remove("hide-controls")),null!=o&&o.classList.contains("hide-controls")&&(null==o||o.classList.remove("hide-controls")),null!=n&&n.classList.contains("hide-controls")&&(null==n||n.classList.remove("hide-controls")))}}]),d}();export{d as default};
